{
  "id": "31cacddc-745f-440d-beb6-70548d401480",
  "prefix": "UpdateSom",
  "description": "cap nhat status cho order va insert orderhistory",
  "body": "--not in ('NON_SUPPORT',\n--\t'CREATE',\n--\t'SUCCESS',\n--\t'FAILED',\n--\t'CANCELLED',\n--\t'PUSHED_TO_POS',\n--\t'REQUEST_CANCEL',\n--\t'PROCESSING',\n--\t'CANCEL_FAILED',\n--\t'CANCEL_PROCESSING',\n--\t'PARTIAL_CANCEL',\n--\t'NEED_ADDITIONAL_INFORMATION')\nDECLARE @OrderId VARCHAR(50)='96d721bc-9483-3656-6577-3a0218b42d3c'\nDECLARE @orderStatus VARCHAR(50)='SUCCESS'\nDECLARE @Description NVARCHAR(250)=N'ticket 186629'\nUPDATE [SOM-Order-Service].dbo.[Order] set OrderStatus = @orderStatus  where Id = @OrderId\n\tINSERT INTO [SOM-Order-Service].dbo.OrderHistory\n\t(\n\t    Id,\n\t    CreationTime,\n\t    CreationBy,\n\t    OrderId,\n\t    Action,\n\t    Remark,\n\t    Description,\n\t    CreationTimeOffset,\n\t    LastModificationTimeOffset\n\t)\n\tVALUES\n\t(   NEWID(),                -- Id - uniqueidentifier\n\t    NULL,       -- CreationTime - datetime2(7)\n\t    N'owner',                 -- CreationBy - nvarchar(max)\n\t    @OrderId,                -- OrderId - uniqueidentifier\n\t    @orderStatus,                 -- Action - nvarchar(max)\n\t    NULL,                 -- Remark - nvarchar(max)\n\t    @Description,                 -- Description - nvarchar(max)\n\t    SYSDATETIMEOFFSET(), -- CreationTimeOffset - datetimeoffset(7)\n\t    NULL  -- LastModificationTimeOffset - datetimeoffset(7)\n\t    )"
}